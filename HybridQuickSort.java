import java.io.*;
import java.util.Arrays;
import java.lang.*;
import java.math.*;

class HybridQuickSort{
    public static void main(String[] args){
        int[] a = { 699, 124, 176, 559, 506, 229, 826, 740, 838, 810, 196, 328, 46, 303, 134, 899, 814, 372, 526, 764, 676, 940, 577, 44, 347, 596,
                    2, 652, 833, 827, 302, 620, 270, 567, 294, 707, 635, 236, 840, 587, 47, 204, 385, 692, 59, 810, 776, 494, 749, 815, 371, 955,
                    760, 752, 846, 256, 425, 716, 101, 51, 984, 970, 563, 475, 865, 928, 305, 825, 904, 115, 577, 787, 585, 184, 391, 135, 309, 289,
                    524, 152, 417, 139, 879, 475, 689, 994, 471, 822, 204, 347, 835, 487, 7, 376, 715, 524, 811, 182, 807, 946, 335, 306, 501, 931,
                    499, 847, 378, 98, 240, 897, 2, 668, 696, 868, 438, 45, 555, 374, 936, 938, 549, 958, 839, 759, 769, 464, 466, 413, 716, 7,
                    490, 974, 771, 174, 510, 186, 486, 479, 273, 846, 384, 137, 480, 689, 413, 504, 148, 66, 400, 523, 169, 399, 156, 980, 101, 767,
                    830, 215, 448, 309, 129, 325, 952, 942, 483, 768, 381, 196, 950, 332, 394, 600, 787, 740, 491, 705, 667, 849, 833, 257, 529, 671,
                    257, 213, 761, 983, 828, 780, 515, 113, 584, 452, 465, 33, 583, 371, 60, 181, 239, 49, 134, 511, 96, 798, 674, 965, 193, 45,
                    482, 387, 722, 324, 883, 109, 767, 413, 68, 27, 644, 552, 209, 388, 765, 455, 627, 79, 55, 990, 794, 625, 375, 404, 227, 348,
                    330, 615, 885, 23, 169, 63, 635, 333, 301, 888, 73, 374, 103, 969, 973, 777, 39, 522, 808, 641, 41, 303, 208, 752, 578, 922,
                    921, 749, 563, 130, 616, 447, 162, 145, 763, 188, 870, 162, 403, 791, 224, 219, 25, 126, 736, 716, 737, 4, 927, 499, 555, 34,
                    283, 69, 612, 753, 462, 243, 108, 869, 548, 910, 465, 100, 306, 300, 15, 789, 811, 467, 105, 158, 53, 219, 626, 238, 725, 25,
                    885, 32, 688, 991, 477, 143, 160, 290, 735, 456, 591, 631, 524, 670, 327, 121, 774, 316, 607, 423, 19, 459, 409, 1, 578, 232,
                    620, 48, 389, 794, 465, 663, 24, 855, 270, 530, 703, 44, 77, 970, 345, 574, 800, 467, 627, 848, 234, 616, 2, 172, 962, 719,
                    710, 609, 764, 86, 417, 221, 738, 438, 953, 892, 217, 412, 352, 977, 683, 408, 713, 536, 830, 740, 942, 371, 979, 675, 648, 774,
                    990, 238, 462, 372, 5, 104, 733, 564, 419, 563, 855, 439, 970, 679, 530, 280, 905, 980, 474, 644, 902, 196, 845, 688, 707, 993,
                    640, 252, 41, 335, 976, 193, 145, 573, 121, 123, 607, 896, 177, 172, 190, 547, 186, 165, 95, 258, 877, 534, 629, 399, 194, 789,
                    73, 809, 236, 691, 706, 156, 117, 34, 432, 929, 705, 901, 967, 392, 614, 722, 37, 452, 664, 372, 45, 195, 297, 795, 264, 252,
                    313, 646, 810, 703, 952, 729, 849, 371, 536, 170, 938, 378, 944, 225, 156, 275, 866, 684, 810, 80, 199, 26, 619, 318, 11, 697,
                    781, 228, 788, 538, 502, 442, 232, 551, 114, 70, 393, 28, 805, 103, 55, 982, 364, 29, 850, 965, 385, 860, 104, 113, 211, 171,
                    406, 651, 949, 647, 379, 770, 849, 93, 395, 897, 307, 388, 30, 784, 16, 936, 668, 242, 753, 590, 685, 229, 129, 945, 50, 413,
                    532, 518, 665, 289, 93, 683, 186, 838, 69, 69, 245, 597, 52, 289, 116, 416, 114, 785, 128, 621, 963, 510, 175, 209, 831, 192,
                    784, 13, 582, 550, 555, 987, 743, 12, 459, 330, 864, 254, 521, 108, 414, 412, 665, 58, 974, 826, 284, 766, 269, 133, 784, 944,
                    93, 634, 624, 615, 944, 39, 374, 880, 354, 129, 557, 58, 197, 489, 511, 164, 863, 656, 326, 770, 873, 286, 728, 223, 240, 903,
                    401, 168, 978, 410, 361, 289, 393, 524, 751, 940, 423, 697, 863, 727, 580, 163, 372, 621, 151, 40, 809, 488, 501, 291, 320, 227,
                    953, 734, 851, 406, 666, 12, 58, 752, 988, 601, 99, 308, 84, 125, 919, 544, 770, 819, 178, 744, 90, 745, 222, 655, 623, 796,
                    404, 475, 192, 214, 245, 196, 436, 630, 324, 685, 762, 325, 325, 90, 958, 707, 298, 368, 597, 755, 747, 76, 138, 948, 10, 805,
                    796, 263, 313, 105, 443, 751, 921, 370, 499, 300, 672, 377, 758, 3, 684, 399, 343, 890, 870, 276, 232, 916, 130, 247, 946, 853,
                    117, 496, 154, 359, 437, 24, 346, 144, 280, 302, 848, 235, 742, 399, 692, 818, 608, 909, 736, 936, 845, 565, 79, 875, 77, 759,
                    911, 89, 123, 964, 296, 855, 170, 789, 97, 447, 178, 918, 576, 964, 154, 553, 270, 328, 607, 194, 914, 454, 386, 268, 497, 431,
                    517, 425, 907, 131, 60, 378, 616, 477, 305, 308, 134, 920, 365, 785, 882, 547, 0, 651, 829, 291, 201, 476, 280, 307, 857, 789,
                    272, 471, 895, 934, 463, 546, 524, 523, 527, 631, 235, 243, 149, 896, 542, 122, 409, 390, 544, 897, 85, 854, 856, 990, 186, 417,
                    386, 480, 209, 233, 64, 676, 980, 955, 823, 200, 384, 842, 516, 37, 685, 901, 590, 910, 966, 223, 44, 185, 414, 973, 451, 818,
                    258, 55, 309, 24, 111, 81, 748, 254, 570, 930, 4, 729, 308, 396, 975, 351, 747, 979, 422, 28, 483, 891, 664, 372, 839, 316,
                    850, 137, 275, 174, 643, 975, 615, 9, 565, 769, 235, 604, 823, 43, 588, 185, 931, 552, 466, 622, 373, 923, 328, 264, 923, 321,
                    224, 211, 860, 643, 314, 676, 445, 382, 434, 35, 284, 830, 596, 266, 465, 490, 202, 666, 800, 689, 388, 231, 967, 37, 742, 408,
                    360, 863, 997, 677, 94, 100, 721, 935, 820, 538, 732, 954, 673, 473, 303, 499, 586, 555, 551, 636, 520, 422, 941, 271, 294, 537,
                    381, 400, 320, 778, 188, 238, 286, 681, 513, 800, 529, 713, 704, 291, 905, 350, 391, 407, 411, 438, 326, 581, 921, 896, 330, 533,
                    640, 985, 512, 316, 426, 955, 718, 244, 425, 103, 934, 753, 92, 967, 882, 972, 651, 240, 851, 857, 854, 877, 516, 213, 24, 892,
                    850, 428, 838, 702, 876, 370, 869, 347, 9, 146, 828, 398, 470, 300, 454, 276, 553, 979, 175, 705, 416, 506, 444, 784, 411, 6,
                    672, 290, 885, 751, 624, 963, 398, 751, 46, 56, 54, 420, 906, 39, 525, 34, 152, 846, 457, 772, 909, 426, 558, 550, 75, 595,
                    688, 94, 82, 193, 723, 343, 643, 209, 814, 634, 450, 793, 463, 671, 186, 646, 698, 869, 225, 506, 897, 194, 713, 221, 816, 831,
                    654, 96, 990, 355, 864, 124, 692, 766, 932, 412, 556, 625, 674, 269, 223, 359, 960, 676, 289, 643, 362, 996, 518, 965, 33, 904,
                    730, 850, 472, 647, 334, 235, 980, 627, 145, 925, 309, 802, 486, 798, 441, 545, 467, 138, 220, 435, 907, 287, 652, 628, 624, 461,
                    206, 462, 496, 181, 298, 370, 353, 289, 294, 412, 131, 183, 707, 599, 945, 524, 383, 180, 244, 785, 760, 457, 699, 953, 683, 409,
                    974, 962, 566, 977, 681, 367, 244, 530, 661, 252, 305, 275, 647, 536, 549, 569, 754, 575, 863, 439, 896, 381, 913, 989, 718, 344,
                    643, 400, 718, 670, 26, 149, 874, 27, 176, 274, 333, 150, 531, 789, 58, 608, 762, 257, 275, 384, 390, 628, 563, 492, 594, 483,
                    740, 500, 579, 735, 800, 235, 720, 583, 681, 684, 568, 625, 675, 476, 666, 397, 162, 921, 778, 859, 447, 962, 196, 934, 433, 805,
                    823, 685, 479, 221, 238, 226, 942, 847, 274, 38, 92, 728, 983, 970, 833, 880, 459, 778, 248, 133, 256, 499, 615, 754, 675, 908,
                    373, 865, 836, 953, 810, 538, 108, 351, 388, 810, 374, 907, 625, 421, 288, 217, 223, 643, 893, 25, 766, 109, 75, 113, 577, 81,
                    437, 867, 644, 418, 305, 989, 862, 618, 145, 429, 665, 875, 79, 825, 808, 770, 814, 885, 550, 884, 817, 425, 200, 486, 170, 701,
                    544, 182, 525, 513, 219, 922, 638, 709, 524, 242, 690, 654, 454, 682, 675, 367, 877, 179, 370, 356, 429, 963, 906, 172, 217, 280,
                    609, 194, 745, 303, 260, 805, 154, 665, 228, 23, 752, 60, 314, 611, 522, 404, 363, 763, 964, 577, 370, 275, 468, 321, 993, 79,
                    518, 8, 313, 71, 595, 720, 483, 732, 96, 806, 62, 353, 851, 4, 489, 704, 653, 900, 435, 842, 446, 631, 863, 750, 174, 197,
                    405, 465, 82, 712, 472, 468, 707, 260, 595, 564, 224, 401, 21, 435, 833, 512, 924, 57, 36, 798, 404, 959, 831, 807, 416, 818,
                    143, 321, 148, 754, 146, 204, 828, 997, 356, 549, 14, 535, 277, 340, 542, 318, 309, 104, 192, 550, 674, 323, 282, 863, 527, 294,
                    339, 287, 811, 803, 159, 319, 88, 20, 1, 348, 153, 346, 191, 847, 508, 379, 581, 223, 909, 576, 929, 535, 537, 942, 184, 76,
                    411, 623, 723, 282, 329, 110, 404, 876, 830, 992, 318, 250, 414, 150, 583, 699, 359, 13, 807, 914, 509, 287, 625, 213, 260, 685,
                    235, 38, 935, 649, 82, 472, 224, 493, 666, 492, 107, 104, 797, 977, 402, 518, 547, 278, 238, 737, 71, 265, 475, 533, 926, 986,
                    623, 273, 403, 829, 870, 455, 608, 602, 21, 278, 262, 457, 979, 281, 959, 880, 263, 781, 245, 206, 143, 39, 332, 291, 207, 581,
                    445, 885, 929, 994, 913, 350, 779, 754, 954, 59, 833, 935, 836, 87, 626, 303, 398, 888, 867, 688, 44, 798, 53, 22, 491, 166,
                    198, 784, 999, 12, 950, 243, 124, 877, 202, 92, 401, 656, 185, 725, 177, 45, 796, 690, 974, 637, 622, 958, 577, 537, 898, 861,
                    437, 925, 673, 267, 320, 688, 846, 818, 982, 992, 46, 881, 97, 652, 723, 35, 109, 998, 547, 206, 462, 929, 920, 214, 17, 738,
                    949, 599, 496, 656, 817, 281, 661, 835, 672, 890, 609, 172, 905, 855, 664, 644, 687, 992, 507, 34, 188, 167, 25, 866, 509, 905,
                    790, 115, 896, 914, 839, 966, 462, 634, 246, 927, 314, 355, 403, 949, 472, 524, 720, 362, 595, 651, 851, 858, 166, 184, 87, 484,
                    574, 913, 649, 869, 862, 249, 193, 448, 71, 841, 688, 941, 914, 755, 693, 778, 975, 889, 45, 287, 589, 108, 969, 853, 173, 791,
                    469, 632, 248, 982, 945, 699, 409, 983, 679, 606, 226, 905, 869, 927, 188, 144, 837, 696, 669, 42, 99, 643, 217, 426, 626, 303,
                    851, 112, 894, 24, 553, 658, 703, 678, 418, 391, 411, 990, 327, 275, 409, 893, 382, 805, 124, 134, 225, 239, 863, 8, 600, 488,
                    173, 644, 779, 321, 157, 60, 645, 565, 755, 455, 864, 736, 920, 503, 690, 541, 298, 893, 594, 898, 920, 973, 878, 151, 494, 338,
                    879, 667, 423, 262, 80, 832, 845, 456, 396, 922, 818, 565, 751, 505, 604, 386, 578, 142, 140, 518, 581, 305, 116, 890, 709, 502,
                    885, 628, 307, 495, 26, 375, 680, 438, 659, 453, 716, 520, 122, 737, 668, 772, 107, 903, 162, 139, 338, 154, 82, 449, 328, 833,
                    237, 849, 589, 442, 604, 742, 297, 886, 305, 509, 962, 841, 72, 436, 341, 899, 389, 997, 394, 168, 37, 826, 238, 399, 27, 754,
                    907, 324, 985, 641, 311, 79, 464, 351, 56, 701, 198, 778, 663, 702, 748, 422, 542, 716, 499, 926, 721, 880, 913, 254, 895, 90,
                    595, 962, 231, 278, 742, 406, 237, 472, 133, 469, 595, 557, 566, 935, 917, 475, 198, 206, 874, 224, 744, 537, 39, 419, 575, 990,
                    457, 268, 983, 100, 621, 959, 174, 576, 207, 463, 451, 859, 52, 513, 734, 446, 583, 608, 600, 571, 750, 749, 537, 988, 335, 401,
                    27, 755, 845, 795, 394, 931, 224, 499, 487, 38, 174, 836, 351, 727, 416, 64, 803, 394, 207, 567, 264, 447, 536, 568, 65, 625,
                    296, 555, 198, 94, 399, 547, 57, 273, 736, 442, 80, 184, 773, 869, 184, 508, 621, 690, 27, 332, 496, 139, 76, 426, 977, 390,
                    465, 158, 413, 140, 84, 855, 372, 533, 965, 725, 547, 522, 450, 739, 519, 349, 612, 277, 708, 938, 0, 954, 337, 329, 744, 924,
                    394, 996, 289, 766, 633, 858, 218, 899, 392, 333, 81, 233, 343, 224, 736, 734, 934, 332, 127, 986, 497, 426, 503, 562, 552, 108,
                    357, 195, 261, 639, 56, 767, 283, 519, 621, 403, 935, 948, 767, 872, 450, 877, 113, 190, 755, 242, 526, 682, 215, 381, 74, 739,
                    994, 691, 548, 471, 153, 663, 895, 801, 101, 763, 739, 810, 967, 471, 83, 73, 851, 956, 187, 776, 239, 538, 575, 594, 967, 18,
                    300, 228, 846, 991, 735, 200, 226, 894, 347, 726, 24, 696, 415, 978, 525, 848, 669, 22, 671, 332, 241, 759, 336, 244, 199, 995,
                    543, 112, 914, 642, 521, 491, 344, 781, 423, 754, 350, 751, 795, 21, 413, 971, 891, 927, 396, 823, 646, 485, 686, 371, 398, 228,
                    11, 955, 963, 916, 15, 725, 559, 827, 764, 497, 744, 82, 773, 373, 725, 121, 393, 508, 827, 443, 860, 146, 935, 687, 835, 229,
                    283, 635, 455, 564, 393, 507, 20, 327, 692, 954, 257, 773, 815, 140, 82, 901, 607, 841, 690, 771, 719, 262, 241, 934, 296, 518,
                    296, 698, 133, 26, 627, 916, 222, 398, 703, 810, 149, 656, 492, 835, 453, 732, 415, 588, 818, 949, 223, 156, 474, 870, 868, 892,
                    954, 768, 135, 187, 698, 582, 964, 955, 876, 246, 132, 668, 171, 393, 325, 700, 264, 429, 440, 358, 377, 194, 474, 517, 330, 888,
                    252, 242, 865, 939, 212, 480, 983, 460, 531, 162, 3, 713, 303, 602, 611, 609, 855, 908, 509, 760, 970, 661, 823, 743, 636, 843,
                    949, 167, 788, 152, 563, 4, 139, 83, 497, 798, 385, 989, 778, 584, 444, 90, 156, 161, 135, 194, 373, 956, 359, 348, 209, 597,
                    192, 433, 690, 534, 999, 960, 149, 484, 175, 914, 315, 420, 647, 213, 949, 772, 34, 773, 580, 593, 272, 805, 993, 781, 802, 852,
                    665, 148, 337, 689, 713, 632, 270, 716, 846, 703, 44, 339, 11, 612, 701, 39, 315, 888, 572, 228, 275, 60, 899, 533, 413, 876,
                    942, 137, 223, 743, 901, 455, 593, 470, 261, 996, 465, 596, 761, 81, 669, 224, 902, 599, 846, 85, 391, 490, 695, 147, 154, 957,
                    255, 166, 965, 516, 489, 380, 730, 306, 81, 974, 48, 640, 505, 32, 787, 558, 804, 664, 309, 517, 242, 30, 607, 104, 25, 253,
                    553, 620, 177, 339, 3, 188, 129, 937, 573, 219, 291, 0, 757, 745, 22, 421, 22, 649, 229, 749, 588, 347, 802, 809, 498, 961,
                    760, 627, 888, 393, 548, 71, 178, 855, 887, 565, 198, 318, 864, 192, 744, 382, 786, 282, 276, 458, 345, 412, 155, 989, 760, 991,
                    916, 275, 446, 188, 581, 61, 607, 8, 409, 238, 66, 108, 305, 804, 921, 461, 178, 979, 762, 62, 663, 758, 43, 123, 816, 747,
                    635, 381, 162, 785, 262, 413, 471, 927, 172, 591, 592, 394, 462, 909, 323, 389, 523, 995, 400, 412, 449, 66, 878, 89, 379, 328,
                    400, 678, 619, 617, 459, 255, 103, 529, 751, 416, 898, 89, 299, 153, 751, 699, 433, 980, 244, 728, 913, 421, 724, 381, 849, 182,
                    79, 963, 451, 267, 887, 539, 778, 739, 428, 922, 699, 316, 576, 824, 575, 892, 507, 294, 393, 545, 518, 381, 567, 159, 393, 640,
                    534, 637, 707, 285, 453, 54, 382, 549, 386, 971, 849, 780, 979, 321, 279, 711, 411, 561, 967, 55, 193, 575, 244, 389, 646, 822,
                    164, 51, 640, 130, 487, 216, 429, 583, 379, 182, 181, 438, 624, 84, 15, 872, 857, 118, 72, 613, 893, 164, 959, 860, 105, 147};
        // System.out.println("----------- before sorting ---------------");
        // System.out.println(Arrays.toString(a));
        // System.out.println("----------- after sorting ---------------");
        // quick(a);
        // System.out.println(Arrays.toString(a));

        // int[] b = {2,1};
        // System.out.println("----------- before sorting ---------------");
        // System.out.println(Arrays.toString(b));
        // System.out.println("----------- after sorting ---------------");
        // quick(b);
        // System.out.println(Arrays.toString(b));

        // int[] c = {};
        // System.out.println("----------- before sorting ---------------");
        // System.out.println(Arrays.toString(c));
        // System.out.println("----------- after sorting ---------------");
        // quick(c);
        // System.out.println(Arrays.toString(c));

        // int[] d = {100,1000,1000,100};
        // System.out.println("----------- before sorting ---------------");
        // System.out.println(Arrays.toString(d));
        // System.out.println("----------- after sorting ---------------");
        // quick(d);
        // System.out.println(Arrays.toString(d));
        System.out.println("-------------------------------------------------");
        System.out.println("              Array Size: "+ a.length);
        System.out.println("-------------------------------------------------");
        long before1 = System.nanoTime();
        quick1(a);
        long after1 = System.nanoTime();
        BigDecimal diff1 = new BigDecimal(after1-before1);
        BigDecimal diffInMillis1 = diff1.divide(new BigDecimal("1000000"), 4, RoundingMode.CEILING);
        System.out.println("       Normal Quick Sort: "+ diffInMillis1.toString() +" Millis");
        System.out.println("-------------------------------------------------");
        long before2 = System.nanoTime();
        quick2(a);
        long after2 = System.nanoTime();
        BigDecimal diff2 = new BigDecimal(after2-before2);
        BigDecimal diffInMillis2 = diff2.divide(new BigDecimal("1000000"), 4, RoundingMode.CEILING);
        System.out.println("       Hybrid Quick Sort: "+ diffInMillis2.toString()  +" Millis");
        System.out.println("-------------------------------------------------");
    }

    static void quick1(int[] a){
        if(a.length<2)
            return;
        quickSort1(a, 0, a.length-1);
    }

    static void quick2(int[] a){
        if(a.length<2)
            return;
        quickSort2(a, 0, a.length-1);
    }

    static void quickSort1(int[] a, int s, int e){
        if(s>=e)
            return;
        int p = partition(a, s, e);
        quickSort1(a, s, p-1);
        quickSort1(a, p+1, e);
    }

    static int partition(int[] a, int s, int e){
        int mid = (s+e)/2;
        if(a[mid]<a[s])
            swap(a, mid, s);
        if(a[e]<a[s])
            swap(a, e, s);
        if(a[mid]<a[e])
            swap(a, mid, e);
        int pivot = a[e];

        int i=s-1;
        for(int j=s; j <= e-1; j++){
            if(a[j] < pivot){
                i++;
                swap(a, i, j);
            }
        }
        swap(a, i+1, e);
        return i+1;
    }

    static void swap(int[] a, int f, int s){
        int temp = a[f];
        a[f] = a[s];
        a[s] = temp;
    }

    static void quickSort2(int[] a, int s, int e){
        if(s>=e)
            return;
        if(e-s>14){
            int p = partition(a, s, e);
            quickSort2(a, s, p-1);
            quickSort2(a, p+1, e);
        }
        else
            insertionSort(a, s, e);
    }

    static void insertionSort(int[] a, int s, int e){
        for(int i=s; i<=e-1; i++){
            if(a[i]>a[i+1]){
                int curr = a[i+1];
                int j=i;
                while(j>=0 && curr<a[j]){
                    a[j+1] = a[j];
                    j--;
                }
                a[j+1] = curr;
            }
        }
    }

    // (0..100).to_a.each{|x| puts (0..25).to_a.map{|y| (rand*1000).to_i.to_s}.join(', ')+","}

}